{"version":3,"sources":["app.js"],"names":["currentProject","currentImageIndex","moverModalAlBody","modal","document","getElementById","body","appendChild","modos","botonDarkMode","querySelector","botonDayMode","localStorage","getItem","classList","add","style","display","addEventListener","opacity","setTimeout","setItem","remove","subirFlecha","flecha","window","documentElement","scrollTop","zoomPerfil","equis","perfil","perfilFijado","perfilFijado2","transform","verProyectos","descripciones","querySelectorAll","flechas","forEach","titulo","index","textContent","trim","height","scrollHeight","contains","descripcion","once","menuNav","btn","nav","navLinks","toggle","i","length","setupNavigation","handleClick","event","preventDefault","href","this","getAttribute","scrollTo","scrollIntoView","behavior","link","openModal","project","zIndex","showImage","showSecondaryImages","secundaria","closeModal","plusSlides","n","modalImg","images","src","console","error","currentYear","Date","getFullYear"],"mappings":"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","file":"bundle.js","sourcesContent":["// ============================================\r\n// CÓDIGO JAVASCRIPT COMPLETO - VERSIÓN CORREGIDA\r\n// ============================================\r\n\r\n// ✅ Variables globales al inicio\r\nlet currentProject = \"\";\r\nlet currentImageIndex = 0;\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    modos();\r\n    zoomPerfil();\r\n    subirFlecha();\r\n    verProyectos();\r\n    menuNav();\r\n    setupNavigation();\r\n    \r\n    // ✅ SOLUCIÓN: Mover el modal al final del body\r\n    moverModalAlBody();\r\n});\r\n\r\nfunction moverModalAlBody() {\r\n    const modal = document.getElementById('modal');\r\n    if (modal) {\r\n        // Mueve el modal al final del body para que escape de cualquier contexto de apilamiento\r\n        document.body.appendChild(modal);\r\n    }\r\n}\r\n\r\nfunction modos() {\r\n    const botonDarkMode = document.querySelector('.icono-luna');\r\n    const botonDayMode = document.querySelector('.icono-sol');\r\n\r\n    // Cuando se carga la página, revisa si el modo oscuro está activo en el almacenamiento local\r\n    if (localStorage.getItem('darkMode') === 'true') {\r\n        document.body.classList.add('dark-mode');\r\n        botonDarkMode.style.display = \"none\";\r\n        botonDayMode.style.display = \"block\";\r\n    }\r\n\r\n    botonDarkMode.addEventListener('click', function() {\r\n        document.body.style.opacity = 0.9;\r\n        setTimeout(function() {\r\n            document.body.classList.add('dark-mode');\r\n            botonDarkMode.style.display = \"none\";\r\n            botonDayMode.style.display = \"block\";\r\n            document.body.style.opacity = 1;\r\n            localStorage.setItem('darkMode', 'true');\r\n        }, 200);\r\n    });\r\n\r\n    botonDayMode.addEventListener('click', function() {\r\n        document.body.style.opacity = .9;\r\n        setTimeout(function() {\r\n            document.body.classList.remove('dark-mode');\r\n            botonDayMode.style.display = \"none\";\r\n            botonDarkMode.style.display = \"block\";\r\n            document.body.style.opacity = 1;\r\n            localStorage.setItem('darkMode', 'false');\r\n        }, 200);\r\n    });\r\n}\r\n\r\nfunction subirFlecha() {\r\n    const flecha = document.querySelector('.flecha');\r\n    window.addEventListener('scroll', function(){\r\n        if( document.documentElement.scrollTop > 500) {\r\n            flecha.style.display = \"flex\";\r\n        } else {\r\n            flecha.style.display = \"none\";\r\n        }\r\n    });\r\n}\r\n\r\nfunction zoomPerfil() {\r\n    const equis = document.querySelector('.equis');\r\n    const perfil = document.querySelector('.perfil-contenedor');\r\n    const perfilFijado = document.querySelector('.fijado-contenedor');\r\n    const perfilFijado2 = document.querySelector('.perfil-fijado2');\r\n\r\n    perfil.addEventListener('click', function() {\r\n        perfilFijado.style.display = \"block\";\r\n        setTimeout(() => {\r\n            perfilFijado2.style.opacity = \"1\";\r\n            perfilFijado2.style.transform = \"scale(1)\";\r\n        }, 0);\r\n        document.body.classList.add('no-scroll');\r\n    });\r\n\r\n    equis.addEventListener('click', function() {\r\n        perfilFijado2.style.opacity = \"0\";\r\n        perfilFijado2.style.transform = \"scale(0)\";\r\n        setTimeout(() => perfilFijado.style.display = \"none\", 300);\r\n        document.body.classList.remove('no-scroll');\r\n    });\r\n}\r\n\r\nfunction verProyectos() {\r\n    const descripciones = document.querySelectorAll('.descripcion-proyectos');\r\n    const flechas = document.querySelectorAll('.fa-angle-down');\r\n    const titulos = document.querySelectorAll('.proyectos-titulo h5');\r\n\r\n    function cerrarTodosLosProyectos() {\r\n        descripciones.forEach(descripcion => {\r\n            descripcion.classList.add('ocultar');\r\n            descripcion.style.height = '0px';\r\n        });\r\n        flechas.forEach(flecha => flecha.classList.remove('giro'));\r\n    }\r\n\r\n    // Abre el ultimo proyecto por defecto (Scrivena)\r\n    titulos.forEach((titulo, index) => {\r\n        if(titulo.textContent.trim() === 'Scrivena') {\r\n            descripciones[index].classList.remove('ocultar');\r\n            descripciones[index].style.height = descripciones[index].scrollHeight + 'px';\r\n            flechas[index].classList.add('giro');\r\n        }\r\n    });\r\n\r\n    flechas.forEach((flecha, index) => {\r\n        flecha.addEventListener('click', function() {\r\n            if (descripciones[index].classList.contains('ocultar')) {\r\n                cerrarTodosLosProyectos();\r\n                descripciones[index].classList.remove('ocultar');\r\n                setTimeout(() => descripciones[index].style.height = descripciones[index].scrollHeight + 'px', 0);\r\n                flechas[index].classList.add('giro');\r\n            } else {\r\n                descripciones[index].style.height = '0px';\r\n                descripciones[index].addEventListener('transitionend', function() {\r\n                    descripciones[index].classList.add('ocultar');\r\n                }, {once: true});\r\n                flechas[index].classList.remove('giro');\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nfunction menuNav() {\r\n    const btn = document.querySelector('.icono-menu');\r\n    const nav = document.querySelector('.navegacion-mobile');\r\n    const navLinks = document.querySelectorAll('.navegacion-mobile li a');\r\n\r\n    btn.addEventListener('click', function() {\r\n        nav.classList.toggle('abierto');\r\n    });\r\n\r\n    for (let i = 0; i < navLinks.length; i++) {\r\n        navLinks[i].addEventListener('click', function() {\r\n            nav.classList.remove('abierto');\r\n        });\r\n    }\r\n}\r\n\r\nfunction setupNavigation() {\r\n    function handleClick(event) {\r\n        event.preventDefault();\r\n        const href = this.getAttribute('href');\r\n        if (href === '/') {\r\n            window.scrollTo(0, 0);\r\n        } else {\r\n            document.querySelector(href).scrollIntoView({behavior: 'smooth'});\r\n        }\r\n    }\r\n\r\n    document.querySelector('.flecha').addEventListener('click', handleClick);\r\n    document.querySelectorAll('.contenedor-nav a').forEach(link => link.addEventListener('click', handleClick));\r\n}\r\n\r\n// ✅ FUNCIONES DEL MODAL - CORREGIDAS\r\nfunction openModal(project) {\r\n    const modal = document.getElementById(\"modal\");\r\n    modal.style.display = \"grid\";\r\n    modal.style.zIndex = \"9999\"; // ✅ Asegura z-index alto\r\n    currentProject = project;\r\n    currentImageIndex = 0;\r\n    showImage(currentImageIndex);\r\n    showSecondaryImages();\r\n    document.body.classList.add('no-scroll');\r\n}\r\n\r\nfunction showSecondaryImages() {\r\n    let secondaryImages = document.querySelectorAll(\".secondary-images\");\r\n    secondaryImages.forEach(secundaria => {\r\n        secundaria.style.display = \"none\";\r\n    });\r\n}\r\n\r\nfunction closeModal() {\r\n    const modal = document.getElementById(\"modal\");\r\n    modal.style.display = \"none\";\r\n    document.body.classList.remove('no-scroll');\r\n}\r\n\r\nfunction plusSlides(n) {\r\n    showImage(currentImageIndex += n);\r\n}\r\n\r\nfunction showImage(n) {\r\n    const modalImg = document.getElementById(\"modal-image\");\r\n    let images = document.querySelectorAll(\".\" + currentProject + \"-image\");\r\n    \r\n    if (images.length === 0) {\r\n        console.error(\"No se encontraron imágenes asociadas al proyecto: \" + currentProject);\r\n        return;\r\n    }\r\n    \r\n    if (n >= images.length) {\r\n        currentImageIndex = 0;\r\n    }\r\n    if (n < 0) {\r\n        currentImageIndex = images.length - 1;\r\n    }\r\n    \r\n    modalImg.src = images[currentImageIndex].src;\r\n}\r\n\r\n// Año en el footer\r\nconst currentYear = new Date().getFullYear();\r\ndocument.getElementById('year').textContent = currentYear;"]}